<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Regis-Watt">
    <link rel="apple-touch-icon" href="regiswatt.jpg">
    <title>Regis-Watt | èƒ½é‡å…±é¸£</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0d1117; color: #39d353; font-family: sans-serif; overflow: hidden; }
        .glow { text-shadow: 0 0 15px #39d353; }
        .card { background: rgba(22, 27, 34, 0.9); border: 1px solid #30363d; border-radius: 20px; backdrop-filter: blur(10px); }
        .energy-ball {
            width: 220px; height: 220px; border-radius: 50%;
            border: 2px solid #39d353; box-shadow: 0 0 30px rgba(57, 211, 83, 0.4);
            display: flex; justify-content: center; align-items: center;
            animation: breathe 3s infinite ease-in-out;
        }
        @keyframes breathe {
            0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(57, 211, 83, 0.3); }
            50% { transform: scale(1.05); box-shadow: 0 0 45px rgba(57, 211, 83, 0.6); }
        }
        #splash {
            position: fixed; inset: 0; background: #0d1117;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 9999; transition: opacity 0.8s ease;
        }
        .splash-logo { width: 150px; height: 150px; border-radius: 50%; }
        .voice-btn { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body>

    <div id="splash">
        <img src="regiswatt.jpg" class="splash-logo">
        <h1 class="text-white text-2xl font-bold mt-6 tracking-widest text-center">REGIS-WATT</h1>
        <p class="text-green-500 text-xs mt-2">æ­£åœ¨åˆå§‹åŒ– AI è¯­éŸ³æ ¸å¿ƒ...</p>
    </div>

    <main id="main-content" class="p-6 max-w-md mx-auto opacity-0 transition-opacity duration-1000">
        <div class="flex justify-between items-center mb-8 mt-4">
            <div class="flex items-center space-x-2">
                <img src="regiswatt.jpg" class="w-10 h-10 rounded-full border border-green-500">
                <span class="text-white font-bold tracking-tight text-sm uppercase">Regis-Watt</span>
            </div>
            <div id="voice-status" class="text-[10px] text-green-400 border border-green-500/30 px-2 py-1 rounded">è¯­éŸ³åŠ©æ‰‹å·²å°±ç»ª</div>
        </div>

        <div class="card p-10 flex flex-col items-center mb-6">
            <p class="text-[10px] uppercase tracking-widest text-gray-500 mb-4">å®æ—¶èƒ½é‡å…±é¸£</p>
            <div class="energy-ball" onclick="startVoice()">
                <div class="text-center">
                    <span id="power-val" class="text-5xl font-black text-white glow">482</span>
                    <span class="text-xl text-green-500 ml-1">W</span>
                </div>
            </div>
            <p class="text-[9px] text-gray-500 mt-4">ç‚¹å‡»èƒ½é‡çƒå¼€å¯è¯­éŸ³æŒ‡ä»¤</p>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-6 text-center">
            <div class="card py-4"><p class="text-[10px] text-gray-500 mb-1">èƒ½é‡æ˜Ÿ</p><p class="text-xl font-bold text-white" id="ers-val">12.50</p></div>
            <div class="card py-4"><p class="text-[10px] text-gray-500 mb-1">å‡ç¢³é‡</p><p class="text-xl font-bold text-white" id="co2-val">4.20</p></div>
        </div>

        <button id="main-btn" onclick="openShare()" class="w-full bg-green-500 text-black font-bold py-4 rounded-2xl shadow-lg active:scale-95 mb-4">
            æˆ‘è¦å€Ÿç”¨ / åˆ†äº«èµ„æº
        </button>

        <p class="text-[10px] text-center text-gray-600">æˆ–è€…è¯•ç€å¯¹æˆ‘è¯´ï¼šâ€œæˆ‘è¦å€Ÿä¸œè¥¿â€</p>
    </main>

    <script>
    // è¯­éŸ³åˆæˆï¼ˆè¯´è¯ï¼‰
    function speak(text) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'zh-CN';
        window.speechSynthesis.speak(msg);
    }

    // å¯åŠ¨é¡µä¸æ¬¢è¿è¯­
    window.addEventListener('load', () => {
        setTimeout(() => {
            document.getElementById('splash').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
                document.getElementById('main-content').classList.replace('opacity-0', 'opacity-100');
                // æ¬¢è¿è¯­
                speak("æ¬¢è¿æ¥åˆ°Regis Wattï¼Œæ‚¨ä»Šå¤©çš„èƒ½é‡å…±é¸£åº¦éå¸¸å®Œç¾ã€‚");
            }, 800);
        }, 2500);
    });

    // è¯­éŸ³è¯†åˆ«ï¼ˆå¬è¯ï¼‰
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (SpeechRecognition) {
        const recognition = new SpeechRecognition();
        recognition.lang = 'zh-CN';
        
        function startVoice() {
            recognition.start();
            document.getElementById('voice-status').innerText = "æ­£åœ¨å€¾å¬...";
            document.getElementById('voice-status').classList.add('bg-green-500/20');
        }

        recognition.onresult = (event) => {
            const command = event.results[0][0].transcript;
            document.getElementById('voice-status').innerText = "è¯†åˆ«åˆ°ï¼š" + command;
            if (command.includes("å€Ÿ") || command.includes("èµ„æº")) {
                speak("å¥½çš„ï¼Œæ­£åœ¨ä¸ºæ‚¨æ‰«æé‚»å±…çš„èµ„æº");
                openShare();
            }
        };
        
        recognition.onend = () => {
            document.getElementById('voice-status').classList.remove('bg-green-500/20');
            setTimeout(() => document.getElementById('voice-status').innerText = "è¯­éŸ³åŠ©æ‰‹å·²å°±ç»ª", 2000);
        };
    }

    // æ¨¡æ‹Ÿæ•°æ®å¢é•¿
    setInterval(() => {
        const ers = document.getElementById('ers-val');
        ers.innerText = (parseFloat(ers.innerText) + 0.01).toFixed(2);
    }, 5000);

    // èµ„æºé¡µé¢
    function openShare() {
        const overlay = document.createElement('div');
        overlay.style = "position:fixed; inset:0; background:rgba(13,17,23,0.98); z-index:10000; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px;";
        overlay.innerHTML = `
            <div id="searching" class="text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-green-500 mb-6 mx-auto"></div>
                <p class="text-green-500 text-sm">æ­£åœ¨æ£€ç´¢é‚»é‡ŒèŠ‚ç‚¹...</p>
            </div>
            <div id="results" class="hidden w-full max-w-sm text-center">
                <h3 class="text-white font-bold mb-6">å‘ç°é‚»é‡Œèµ„æº</h3>
                <div class="card p-4 flex justify-between items-center mb-4">
                    <span class="text-white text-sm">ğŸ› ï¸ å†²å‡»é’» (ç‹é˜¿å§¨)</span>
                    <button onclick="requestItem('å†²å‡»é’»')" class="bg-green-500 text-black text-xs font-bold px-4 py-2 rounded-lg">å€Ÿç”¨</button>
                </div>
                <button onclick="this.parentElement.parentElement.remove()" class="mt-8 text-gray-500 text-xs">è¿”å›</button>
            </div>
        `;
        document.body.appendChild(overlay);
        setTimeout(() => {
            document.getElementById('searching').classList.add('hidden');
            document.getElementById('results').classList.remove('hidden');
        }, 1500);
    }

    function requestItem(item) {
        speak("ç”³è¯·å·²å‘é€ï¼Œæ­£åœ¨ç­‰å¾…é‚»å±…ç¡®è®¤");
        setTimeout(() => {
            speak("å®ï¼é‚»å±…ç‹é˜¿å§¨åŒæ„äº†æ‚¨çš„ç”³è¯·ï¼Œè¯·åœ¨ä¸‹åˆä¸¤ç‚¹åå»ä¸‰é›¶äºŒå®¤å–ä»¶ã€‚");
            alert("ã€é€šçŸ¥ã€‘ç‹é˜¿å§¨ï¼šæ²¡é—®é¢˜ï¼Œä½ ç›´æ¥è¿‡æ¥æ‹¿å§ï¼");
        }, 3000);
    }
    </script>
</body>
</html>